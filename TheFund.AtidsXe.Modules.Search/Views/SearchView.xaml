<views:SearchViewBase
    x:Class="TheFund.AtidsXe.Modules.Search.Views.SearchView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:common="clr-namespace:TheFund.AtidsXe.Modules.Common.Behaviors;assembly=TheFund.AtidsXe.Modules.Common"
    xmlns:converters="clr-namespace:TheFund.AtidsXe.Modules.Common.Converters;assembly=TheFund.AtidsXe.Modules.Common"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helpers="clr-namespace:TheFund.AtidsXe.Modules.Common.Helpers;assembly=TheFund.AtidsXe.Modules.Common"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="clr-namespace:TheFund.AtidsXe.Modules.Search.Models"
    xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
    xmlns:viewModels="clr-namespace:TheFund.AtidsXe.Modules.Search.ViewModels"
    xmlns:views="clr-namespace:TheFund.AtidsXe.Modules.Search.Views"
    Margin="1,0,1,0"
    d:DataContext="{d:DesignInstance viewModels:SearchViewModel}"
    d:DesignWidth="1000"
    Background="White"
    mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>

                <ResourceDictionary Source="pack://application:,,,/TheFund.AtidsXe.Modules.Shared;component/Brushes/SolidColorBrushes.xaml" />

                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Primary/MaterialDesignColor.DeepPurple.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Accent/MaterialDesignColor.Lime.xaml" />

                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Light.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Card.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.CheckBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Flipper.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Popupbox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ComboBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Slider.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.TextBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ToggleButton.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.DataGrid.xaml" />

                <ResourceDictionary Source="/Telerik.Windows.Controls;component/Themes/FontResources.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <converters:BooleanToVisibileHiddenConverter x:Key="BooleanToVisibileHiddenConverter" />
            <converters:FavoritesToIconConverter x:Key="FavoritesToIconConverter" />

            <telerik:InvertedBooleanToVisibilityConverter x:Key="InvertedBooleanToVisibilityConverter" />
            <telerik:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

            <telerik:FluentTheme x:Key="Theme" />
            <telerik:Windows8Theme x:Key="Windows8Theme" />

            <Style TargetType="telerik:RadToolTipContentView">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadToolTip">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadToggleButton">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadSplitButton">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadDropDownButton">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadExpander">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadButton">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="TextBlock">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:Label">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadWatermarkTextBox">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadBusyIndicator">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Windows8Theme}" />
            </Style>
            <Style TargetType="telerik:RadComboBox">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadGridView">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadListBox">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadDataPager">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadToolBar">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadTabControl">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>
            <Style TargetType="telerik:RadTabItem">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>

            <Style TargetType="telerik:RadContextMenu">
                <Setter Property="telerik:StyleManager.Theme" Value="{StaticResource ResourceKey=Theme}" />
            </Style>

            <Style TargetType="telerik:GridViewCell">
                <Setter Property="Focusable" Value="False" />
                <Setter Property="CurrentBorderBrush" Value="Transparent" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                <Setter Property="SnapsToDevicePixels" Value="True" />
                <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            </Style>

            <DataTemplate x:Key="SearchBusyIndicatorDataTemplate" DataType="{x:Type viewModels:SearchViewModel}">
                <StackPanel Orientation="Horizontal">
                    <telerik:Label VerticalAlignment="Center" Content="{Binding Path=BusyMessage}" />
                </StackPanel>
            </DataTemplate>

        </ResourceDictionary>
    </UserControl.Resources>
    <Grid x:Name="RootLayout">
        <Border
            Padding="0"
            Background="White"
            BorderBrush="{StaticResource ResourceKey=BorderBrush}"
            BorderThickness="0">
            <Expander
                x:Name="SearchRadExpander"
                HorizontalAlignment="Stretch"
                Background="Transparent"
                IsExpanded="True">
                <Expander.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock
                            HorizontalAlignment="Left"
                            FontWeight="SemiBold"
                            Foreground="Black"
                            Opacity="0.9"
                            Text="File Management" />
                    </DataTemplate>
                </Expander.HeaderTemplate>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <ProgressBar
                        x:Name="SearchProgressBar"
                        Grid.Row="0"
                        Grid.RowSpan="1"
                        Grid.Column="0"
                        Height="2"
                        Margin="0,0,0,3"
                        HorizontalAlignment="Stretch"
                        IsEnabled="True"
                        ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                        ScrollViewer.VerticalScrollBarVisibility="Hidden"
                        SmallChange="0.5" />
                    <telerik:RadTabControl
                        x:Name="WorkspaceTabControl"
                        Grid.Row="1"
                        Grid.RowSpan="1"
                        Grid.Column="0"
                        Margin="0,0,0,0"
                        VerticalAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        AllowDragOverTab="True"
                        AllowDragReorder="True"
                        BorderThickness="0.5"
                        DisplayMemberPath="Content"
                        DropDownDisplayMode="Collapsed"
                        IsContentPreserved="True"
                        ItemTemplate="{x:Null}"
                        ScrollMode="Viewport">
                        <telerik:RadTabItem DropDownContent="Search Files" Header="Search Files">
                            <telerik:RadTabItem.Content>
                                <DockPanel
                                    x:Name="SearchDockPanel"
                                    Margin="0,2.5,0,0.5"
                                    LastChildFill="True">
                                    <Grid
                                        Margin="0,0,0,1"
                                        HorizontalAlignment="Stretch"
                                        DockPanel.Dock="Top">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <telerik:RadComboBox
                                            x:Name="SearchRadComboBox"
                                            Grid.Row="1"
                                            Grid.Column="0"
                                            Grid.ColumnSpan="1"
                                            Width="400"
                                            Margin="1"
                                            d:DataContext="{d:DesignInstance viewModels:SearchViewModel}"
                                            AllowDrop="True"
                                            ClearSelectionButtonContent="Clear Search Term"
                                            ClearSelectionButtonVisibility="Visible"
                                            DisplayMemberPath="SearchTerm"
                                            EmptyText="Type to search files"
                                            IsEditable="True"
                                            IsFilteringEnabled="True"
                                            IsHighlighted="True"
                                            OpenDropDownOnFocus="False"
                                            SelectedItem="{Binding Path=SelectedRecentSearchTerm}"
                                            UpdateTextOnLostFocus="False" />
                                        <telerik:Label
                                            Grid.Row="1"
                                            Grid.Column="1"
                                            Grid.ColumnSpan="1"
                                            Margin="5,0,0,0"
                                            Content="Files:"
                                            FontSize="12"
                                            FontWeight="SemiBold"
                                            Opacity="0.6" />
                                        <telerik:Label
                                            x:Name="TotalNumberOfFilesCountLabel"
                                            Grid.Row="1"
                                            Grid.Column="2"
                                            Grid.ColumnSpan="1"
                                            FontSize="12"
                                            FontWeight="Bold"
                                            Opacity="0.7" />
                                    </Grid>
                                    <Grid
                                        x:Name="SearchTab"
                                        Margin="0,1,0,0"
                                        TextBlock.Foreground="{DynamicResource ResourceKey=MaterialDesignBody}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <telerik:RadGridView
                                            x:Name="SearchResultsRadGridView"
                                            Grid.Row="0"
                                            Grid.RowSpan="1"
                                            Grid.Column="0"
                                            MinHeight="250"
                                            MaxHeight="250"
                                            Margin="0"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            AlternationCount="0"
                                            AutoGenerateColumns="False"
                                            CanUserFreezeColumns="False"
                                            CanUserGroupColumns="False"
                                            CanUserResizeColumns="False"
                                            EnableLostFocusSelectedState="True"
                                            GridLinesVisibility="Vertical"
                                            GroupRenderMode="Flat"
                                            IsReadOnly="True"
                                            IsSynchronizedWithCurrentItem="True"
                                            RowHeight="35"
                                            RowIndicatorVisibility="Collapsed"
                                            SelectionMode="Single"
                                            SelectionUnit="FullRow"
                                            ShowColumnSortIndexes="True"
                                            ShowGroupPanel="False"
                                            ShowToolTipOnTrimmedText="True">
                                            <telerik:RadGridView.Resources>
                                                <helpers:BindingProxy x:Key="proxy" Data="{Binding}" />
                                            </telerik:RadGridView.Resources>
                                            <behaviors:Interaction.Behaviors>
                                                <common:EmptyDataTemplateBehavior>
                                                    <common:EmptyDataTemplateBehavior.EmptyDataTemplate>
                                                        <DataTemplate DataType="viewModels:SearchViewModel">
                                                            <TextBlock
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Foreground="DarkGray"
                                                                Text="No results found" />
                                                        </DataTemplate>
                                                    </common:EmptyDataTemplateBehavior.EmptyDataTemplate>
                                                </common:EmptyDataTemplateBehavior>
                                            </behaviors:Interaction.Behaviors>
                                            <telerik:RadGridView.Columns>
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=IsOpened}"
                                                    Header="In Use"
                                                    HeaderTextAlignment="Center">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate DataType="models:FileReferenceListItemViewModel">
                                                            <materialDesign:PackIcon
                                                                Width="20"
                                                                Height="20"
                                                                HorizontalAlignment="Center"
                                                                Foreground="Green"
                                                                Kind="Check"
                                                                Visibility="{Binding Path=IsOpened, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}" />
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn
                                                    Width="*"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=FileReferenceName}"
                                                    Header="Reference Name"
                                                    HeaderTextAlignment="Center">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate DataType="models:FileReferenceListItemViewModel">
                                                            <Grid VerticalAlignment="Center">
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="Auto" />
                                                                </Grid.RowDefinitions>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>
                                                                <TextBlock
                                                                    Grid.Row="0"
                                                                    Grid.Column="0"
                                                                    VerticalAlignment="Center"
                                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                                    DataContext="{Binding}"
                                                                    Text="{Binding Path=FileReferenceName}"
                                                                    TextTrimming="CharacterEllipsis" />
                                                                <StackPanel
                                                                    Grid.Row="0"
                                                                    Grid.Column="2"
                                                                    VerticalAlignment="Center"
                                                                    Orientation="Horizontal">
                                                                    <materialDesign:PopupBox
                                                                        Margin="5,0,0,0"
                                                                        Padding="0"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Top"
                                                                        materialDesign:RippleAssist.ClipToBounds="False"
                                                                        materialDesign:RippleAssist.Feedback="DarkGray"
                                                                        materialDesign:RippleAssist.IsCentered="True"
                                                                        materialDesign:RippleAssist.IsDisabled="False"
                                                                        materialDesign:RippleAssist.RippleOnTop="True"
                                                                        materialDesign:RippleAssist.RippleSizeMultiplier="0.5"
                                                                        PlacementMode="RightAndAlignTopEdges"
                                                                        PopupMode="Click"
                                                                        PreviewMouseDoubleClick="PopupBox_PreviewMouseDoubleClick"
                                                                        PreviewMouseLeftButtonDown="SearchResultsRadGridView_PopupBox_PreviewMouseLeftButtonDown"
                                                                        StaysOpen="False"
                                                                        UnfurlOrientation="Horizontal">
                                                                        <materialDesign:PopupBox.ToggleCheckedContent>
                                                                            <materialDesign:PackIcon
                                                                                Width="20"
                                                                                Height="20"
                                                                                Cursor="Hand"
                                                                                Foreground="Black"
                                                                                Kind="EllipsisVertical"
                                                                                Opacity="0.8" />
                                                                        </materialDesign:PopupBox.ToggleCheckedContent>
                                                                        <materialDesign:PopupBox.ToggleContent>
                                                                            <materialDesign:PackIcon
                                                                                Width="20"
                                                                                Height="20"
                                                                                Cursor="Hand"
                                                                                Foreground="Black"
                                                                                Kind="EllipsisHorizontal"
                                                                                Opacity="0.8" />
                                                                        </materialDesign:PopupBox.ToggleContent>
                                                                        <materialDesign:PopupBox.Style>
                                                                            <Style BasedOn="{StaticResource ResourceKey=MaterialDesignToolPopupBox}" TargetType="materialDesign:PopupBox">
                                                                                <Setter Property="Visibility" Value="Hidden" />
                                                                                <Setter Property="Opacity" Value="0.8" />
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type telerik:GridViewRow}}, Path=IsMouseOver}" Value="True">
                                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                                        <Setter Property="Opacity" Value="1" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </materialDesign:PopupBox.Style>
                                                                        <Border BorderBrush="Transparent" BorderThickness="0">
                                                                            <Grid>
                                                                                <Grid.ColumnDefinitions>
                                                                                    <ColumnDefinition />
                                                                                </Grid.ColumnDefinitions>
                                                                                <Grid.RowDefinitions>
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                </Grid.RowDefinitions>
                                                                                <Grid.Resources>
                                                                                    <Style TargetType="materialDesign:PackIcon">
                                                                                        <Setter Property="Width" Value="20" />
                                                                                        <Setter Property="Height" Value="20" />
                                                                                        <Setter Property="Margin" Value="0" />
                                                                                        <Setter Property="Padding" Value="0" />
                                                                                        <Setter Property="Background" Value="Transparent" />
                                                                                        <Setter Property="Foreground" Value="Black" />
                                                                                        <Setter Property="Cursor" Value="Arrow" />
                                                                                        <Setter Property="Opacity" Value="1" />
                                                                                        <Setter Property="materialDesign:RippleAssist.IsDisabled" Value="True" />
                                                                                    </Style>
                                                                                    <!--<Style BasedOn="{StaticResource ResourceKey=MaterialDesignFlatButton}" TargetType="Button">
                                                                                        <Setter Property="Width" Value="200" />
                                                                                        <Setter Property="Cursor" Value="Hand" />
                                                                                        <Setter Property="HorizontalContentAlignment" Value="Left" />
                                                                                        <Setter Property="materialDesign:RippleAssist.IsDisabled" Value="True" />
                                                                                    </Style>-->
                                                                                    <!--<Style BasedOn="{StaticResource ResourceKey=MaterialDesignCaptionTextBlock}" TargetType="TextBlock">
                                                                                        <Setter Property="Margin" Value="5,0,0,0" />
                                                                                        <Setter Property="Padding" Value="0" />
                                                                                    </Style>-->
                                                                                </Grid.Resources>
                                                                                <!--  Add to favorites  -->
                                                                                <Button
                                                                                    Grid.Row="0"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=AddRemoveFavoritesCommand}"
                                                                                    Cursor="Hand"
                                                                                    FontSize="14"
                                                                                    Visibility="{Binding Path=IsFavorite, Converter={StaticResource ResourceKey=InvertedBooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon
                                                                                            Grid.Column="0"
                                                                                            Foreground="Orange"
                                                                                            Kind="StarBorder" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Add to favorites" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Remove from favorites  button  -->
                                                                                <Button
                                                                                    Grid.Row="0"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=AddRemoveFavoritesCommand}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsFavorite, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon
                                                                                            Grid.Column="0"
                                                                                            Foreground="Orange"
                                                                                            Kind="Star" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Remove from favorites" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Open file button  -->
                                                                                <Button
                                                                                    Grid.Row="1"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=OpenCloseFileCommand}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsOpened, Converter={StaticResource ResourceKey=InvertedBooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="FileDocumentEditOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Open file" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Close file button  -->
                                                                                <Button
                                                                                    Grid.Row="1"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=OpenCloseFileCommand}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsOpened, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="FileDocumentOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Close file" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Add to workspace  -->
                                                                                <Button
                                                                                    Grid.Row="2"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=AddRemoveFromWorkspaceCommand}"
                                                                                    CommandParameter="{Binding Path=IsInWorkspace}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsInWorkspace, Converter={StaticResource ResourceKey=InvertedBooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="BriefcaseAddOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Add to workspace" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Remove from workspace  -->
                                                                                <Button
                                                                                    Grid.Row="2"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=AddRemoveFromWorkspaceCommand}"
                                                                                    CommandParameter="{Binding Path=IsInWorkspace}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsInWorkspace, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="BriefcaseMinusOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Remove from workspace" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Show File History  -->
                                                                                <Button
                                                                                    Grid.Row="3"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=ShowFileHistoryCommand}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=AllowFileHistory, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="History" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Show file history" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Find related files  -->
                                                                                <Button
                                                                                    Grid.Row="4"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=FindRelatedFilesCommand}"
                                                                                    Cursor="Hand">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="FileDocumentBoxMultipleOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Find related files" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Save all changes  -->
                                                                                <Button
                                                                                    Grid.Row="5"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=SaveAllChangesCommand}"
                                                                                    Cursor="Hand">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="ContentSaveOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Save all changes" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Undo all changes  -->
                                                                                <Button
                                                                                    Grid.Row="6"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=UndoAllChangesCommand}"
                                                                                    Cursor="Hand">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="Undo" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Undo all changes" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Refresh file  -->
                                                                                <Button
                                                                                    Grid.Row="7"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=RefreshFileCommand}"
                                                                                    Cursor="Hand">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="Refresh" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Refresh file" />
                                                                                    </Grid>
                                                                                </Button>
                                                                            </Grid>
                                                                        </Border>
                                                                    </materialDesign:PopupBox>
                                                                </StackPanel>
                                                            </Grid>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=PolicySearchesCount}"
                                                    Header="Policy Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=PropertySearchesCount}"
                                                    Header="Property Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=ChainOfTitlesCount}"
                                                    Header="Chain of titles"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=NameSearchesCount}"
                                                    Header="Name Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=FileStatus.Description}"
                                                    Header="Status"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=WorkerId}"
                                                    Header="In Use By"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=CreatedDate, StringFormat='MM/dd/yyyy hh:mm tt'}"
                                                    Header="Creation Date"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=BranchLocation.Description}"
                                                    Header="Branch Location"
                                                    TextTrimming="CharacterEllipsis" />
                                            </telerik:RadGridView.Columns>
                                        </telerik:RadGridView>
                                        <telerik:RadDataPager
                                            x:Name="SearchDataPager"
                                            Grid.Row="1"
                                            Grid.RowSpan="1"
                                            Grid.Column="0"
                                            Margin="0,2,0,0"
                                            HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Stretch"
                                            Background="White"
                                            DisplayMode="FirstLastPreviousNextNumeric, Text"
                                            IsTotalItemCountFixed="True"
                                            PageSize="20"
                                            Source="{Binding Path=Items, ElementName=SearchResultsRadGridView}" />
                                    </Grid>
                                </DockPanel>
                            </telerik:RadTabItem.Content>
                        </telerik:RadTabItem>
                        <telerik:RadTabItem DropDownContent="Favorites" Header="Favorites">
                            <telerik:RadTabItem.Content>
                                <DockPanel
                                    x:Name="FavoritesDockPanel"
                                    Width="{Binding ElementName=SearchDockPanel, Path=ActualWidth}"
                                    Height="{Binding ElementName=SearchDockPanel, Path=ActualHeight}"
                                    Margin="0,2.5,0,1">
                                    <Grid
                                        x:Name="FavoritesTab"
                                        Margin="0,1,0,0"
                                        TextBlock.Foreground="{DynamicResource ResourceKey=MaterialDesignBody}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <telerik:RadGridView
                                            x:Name="FavoritesResultsRadGridView"
                                            Grid.Row="0"
                                            Grid.RowSpan="1"
                                            Grid.Column="0"
                                            Margin="0"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Stretch"
                                            AlternationCount="0"
                                            AutoGenerateColumns="False"
                                            CanUserFreezeColumns="False"
                                            CanUserGroupColumns="False"
                                            CanUserResizeColumns="False"
                                            EnableLostFocusSelectedState="True"
                                            GridLinesVisibility="Vertical"
                                            GroupRenderMode="Flat"
                                            IsReadOnly="True"
                                            IsSynchronizedWithCurrentItem="True"
                                            RowIndicatorVisibility="Collapsed"
                                            SelectionMode="Single"
                                            SelectionUnit="FullRow"
                                            ShowColumnSortIndexes="True"
                                            ShowGroupPanel="False"
                                            ShowToolTipOnTrimmedText="True">
                                            <behaviors:Interaction.Behaviors>
                                                <common:EmptyDataTemplateBehavior>
                                                    <common:EmptyDataTemplateBehavior.EmptyDataTemplate>
                                                        <DataTemplate>
                                                            <TextBlock
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Foreground="DarkGray"
                                                                Text="No results found"
                                                                Visibility="{Binding Path=MessageVisibility}" />
                                                        </DataTemplate>
                                                    </common:EmptyDataTemplateBehavior.EmptyDataTemplate>
                                                </common:EmptyDataTemplateBehavior>
                                            </behaviors:Interaction.Behaviors>
                                            <telerik:RadGridView.Columns>
                                                <telerik:GridViewImageColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=ImageUrl}"
                                                    Header="In Use"
                                                    HeaderTextAlignment="Center"
                                                    ImageHeight="20"
                                                    ImageStretch="UniformToFill"
                                                    ImageWidth="24" />
                                                <telerik:GridViewDataColumn
                                                    Width="*"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=FileReferenceName}"
                                                    Header="Reference Name"
                                                    HeaderTextAlignment="Center">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate DataType="models:FileReferenceListItemViewModel">
                                                            <Grid VerticalAlignment="Center">
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="Auto" />
                                                                </Grid.RowDefinitions>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>
                                                                <TextBlock
                                                                    Grid.Row="0"
                                                                    Grid.Column="0"
                                                                    VerticalAlignment="Center"
                                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                                    DataContext="{Binding}"
                                                                    Text="{Binding Path=FileReferenceName}"
                                                                    TextTrimming="CharacterEllipsis" />
                                                                <StackPanel
                                                                    Grid.Row="0"
                                                                    Grid.Column="2"
                                                                    VerticalAlignment="Center"
                                                                    Orientation="Horizontal">
                                                                    <materialDesign:PopupBox
                                                                        Margin="5,0,0,0"
                                                                        Padding="0"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Top"
                                                                        materialDesign:RippleAssist.ClipToBounds="False"
                                                                        materialDesign:RippleAssist.Feedback="DarkGray"
                                                                        materialDesign:RippleAssist.IsCentered="True"
                                                                        materialDesign:RippleAssist.IsDisabled="False"
                                                                        materialDesign:RippleAssist.RippleOnTop="True"
                                                                        materialDesign:RippleAssist.RippleSizeMultiplier="0.5"
                                                                        PlacementMode="RightAndAlignTopEdges"
                                                                        PopupMode="Click"
                                                                        PreviewMouseDoubleClick="PopupBox_PreviewMouseDoubleClick"
                                                                        PreviewMouseLeftButtonDown="FavoritesResultsRadGridView_PopupBox_PreviewMouseLeftButtonDown"
                                                                        StaysOpen="False"
                                                                        UnfurlOrientation="Horizontal">
                                                                        <materialDesign:PopupBox.ToggleCheckedContent>
                                                                            <materialDesign:PackIcon
                                                                                Width="20"
                                                                                Height="20"
                                                                                Cursor="Hand"
                                                                                Foreground="Black"
                                                                                Kind="EllipsisHorizontal"
                                                                                Opacity="0.8" />
                                                                        </materialDesign:PopupBox.ToggleCheckedContent>
                                                                        <materialDesign:PopupBox.ToggleContent>
                                                                            <materialDesign:PackIcon
                                                                                Width="20"
                                                                                Height="20"
                                                                                Cursor="Hand"
                                                                                Foreground="Black"
                                                                                Kind="EllipsisHorizontal"
                                                                                Opacity="0.8" />
                                                                        </materialDesign:PopupBox.ToggleContent>
                                                                        <materialDesign:PopupBox.Style>
                                                                            <Style BasedOn="{StaticResource ResourceKey=MaterialDesignToolPopupBox}" TargetType="materialDesign:PopupBox">
                                                                                <Setter Property="Visibility" Value="Hidden" />
                                                                                <Setter Property="Opacity" Value="0.8" />
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type telerik:GridViewRow}}, Path=IsMouseOver}" Value="True">
                                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                                        <Setter Property="Opacity" Value="1" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </materialDesign:PopupBox.Style>
                                                                        <Border BorderBrush="Transparent" BorderThickness="0">
                                                                            <Grid>
                                                                                <Grid.ColumnDefinitions>
                                                                                    <ColumnDefinition />
                                                                                </Grid.ColumnDefinitions>
                                                                                <Grid.RowDefinitions>
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                    <RowDefinition />
                                                                                </Grid.RowDefinitions>
                                                                                <Grid.Resources>
                                                                                    <Style TargetType="materialDesign:PackIcon">
                                                                                        <Setter Property="Width" Value="20" />
                                                                                        <Setter Property="Height" Value="20" />
                                                                                        <Setter Property="Margin" Value="0" />
                                                                                        <Setter Property="Padding" Value="0" />
                                                                                        <Setter Property="Background" Value="Transparent" />
                                                                                        <Setter Property="Foreground" Value="Black" />
                                                                                        <Setter Property="Cursor" Value="Arrow" />
                                                                                        <Setter Property="Opacity" Value="0.7" />
                                                                                        <Setter Property="materialDesign:RippleAssist.IsDisabled" Value="True" />
                                                                                    </Style>
                                                                                </Grid.Resources>
                                                                                <!--  Add to favorites  -->
                                                                                <Button
                                                                                    Grid.Row="0"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=AddRemoveFavoritesCommand}"
                                                                                    CommandParameter="{Binding Path=IsFavorite}"
                                                                                    Cursor="Hand"
                                                                                    FontSize="14"
                                                                                    Visibility="{Binding Path=IsFavorite, Converter={StaticResource ResourceKey=InvertedBooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon
                                                                                            Grid.Column="0"
                                                                                            Foreground="Orange"
                                                                                            Kind="StarBorder" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Add to favorites" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Remove from favorites  button  -->
                                                                                <Button
                                                                                    Grid.Row="0"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=AddRemoveFavoritesCommand}"
                                                                                    CommandParameter="{Binding Path=IsFavorite}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsFavorite, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon
                                                                                            Grid.Column="0"
                                                                                            Foreground="Orange"
                                                                                            Kind="Star" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Remove from favorites" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Open file button  -->
                                                                                <Button
                                                                                    Grid.Row="1"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=OpenCloseFileCommand}"
                                                                                    CommandParameter="{Binding Path=IsOpened}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsOpened, Converter={StaticResource ResourceKey=InvertedBooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="FileDocumentEditOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Open file" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Close file button  -->
                                                                                <Button
                                                                                    Grid.Row="1"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=OpenCloseFileCommand}"
                                                                                    CommandParameter="{Binding Path=IsOpened}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsOpened, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="FileDocumentOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Close file" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Add to workspace  -->
                                                                                <Button
                                                                                    Grid.Row="2"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=AddRemoveFromWorkspaceCommand}"
                                                                                    CommandParameter="{Binding Path=IsInWorkspace}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsInWorkspace, Converter={StaticResource ResourceKey=InvertedBooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="BriefcaseAddOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Add to workspace" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Remove from workspace  -->
                                                                                <Button
                                                                                    Grid.Row="2"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=AddRemoveFromWorkspaceCommand}"
                                                                                    CommandParameter="{Binding Path=IsInWorkspace}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=IsInWorkspace, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="BriefcaseMinusOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Remove from workspace" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Show File History  -->
                                                                                <Button
                                                                                    Grid.Row="3"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=ShowFileHistoryCommand}"
                                                                                    Cursor="Hand"
                                                                                    Visibility="{Binding Path=AllowFileHistory, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="History" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Show file history" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Find related files  -->
                                                                                <Button
                                                                                    Grid.Row="4"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=FindRelatedFilesCommand}"
                                                                                    Cursor="Hand">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="FileDocumentBoxMultipleOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Find related files" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Save all changes  -->
                                                                                <Button
                                                                                    Grid.Row="5"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=SaveAllChangesCommand}"
                                                                                    Cursor="Hand">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="ContentSaveOutline" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Save all changes" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Undo all changes  -->
                                                                                <Button
                                                                                    Grid.Row="6"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=UndoAllChangesCommand}"
                                                                                    Cursor="Hand">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="Undo" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Undo all changes" />
                                                                                    </Grid>
                                                                                </Button>
                                                                                <!--  Refresh file  -->
                                                                                <Button
                                                                                    Grid.Row="7"
                                                                                    Grid.Column="0"
                                                                                    Width="200"
                                                                                    materialDesign:RippleAssist.IsDisabled="True"
                                                                                    Command="{Binding Path=RefreshFileCommand}"
                                                                                    Cursor="Hand">
                                                                                    <Grid>
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="Auto" />
                                                                                            <ColumnDefinition Width="*" />
                                                                                        </Grid.ColumnDefinitions>
                                                                                        <materialDesign:PackIcon Grid.Column="0" Kind="Refresh" />
                                                                                        <TextBlock
                                                                                            Grid.Column="1"
                                                                                            Margin="10,0,0,0"
                                                                                            VerticalAlignment="Center"
                                                                                            Style="{DynamicResource ResourceKey=MaterialDesignCaptionTextBlock}"
                                                                                            Text="Refresh file" />
                                                                                    </Grid>
                                                                                </Button>
                                                                            </Grid>
                                                                        </Border>
                                                                    </materialDesign:PopupBox>
                                                                </StackPanel>
                                                            </Grid>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=PolicySearchesCount}"
                                                    Header="Policy Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=PropertySearchesCount}"
                                                    Header="Property Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=ChainOfTitlesCount}"
                                                    Header="Chain of titles"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=NameSearchesCount}"
                                                    Header="Name Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=FileStatus.Description}"
                                                    Header="Status"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=WorkerId}"
                                                    Header="In Use By"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=CreatedDate, StringFormat='MM/dd/yyyy hh:mm tt'}"
                                                    Header="Creation Date"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    d:DataContext="{d:DesignInstance models:FileReferenceListItemViewModel}"
                                                    DataMemberBinding="{Binding Path=BranchLocation.Description}"
                                                    Header="Branch Location"
                                                    TextTrimming="CharacterEllipsis" />
                                            </telerik:RadGridView.Columns>
                                        </telerik:RadGridView>
                                        <telerik:RadDataPager
                                            x:Name="FavoritesDataPager"
                                            Grid.Row="1"
                                            Grid.RowSpan="1"
                                            Grid.Column="0"
                                            Margin="0,2,0,0"
                                            HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Stretch"
                                            Background="White"
                                            DisplayMode="FirstLastPreviousNextNumeric, Text"
                                            IsTotalItemCountFixed="True"
                                            PageSize="20"
                                            Source="{Binding Path=Items, ElementName=FavoritesResultsRadGridView}" />
                                    </Grid>
                                </DockPanel>
                            </telerik:RadTabItem.Content>
                        </telerik:RadTabItem>
                        <telerik:RadTabItem DropDownContent="Recent Files" Header="Recent Files">
                            <telerik:RadTabItem.Content>
                                <DockPanel
                                    Width="{Binding ElementName=SearchDockPanel, Path=ActualWidth}"
                                    Height="{Binding ElementName=SearchDockPanel, Path=ActualHeight}"
                                    Margin="0,2.5,0,1">
                                    <Grid
                                        x:Name="RecentsTab"
                                        Margin="0,1,0,0"
                                        TextBlock.Foreground="{DynamicResource ResourceKey=MaterialDesignBody}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <telerik:RadGridView
                                            x:Name="RecentsResultsRadGridView"
                                            Grid.Row="0"
                                            Grid.RowSpan="1"
                                            Grid.Column="0"
                                            Margin="0"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Stretch"
                                            AlternationCount="0"
                                            AutoGenerateColumns="False"
                                            CanUserFreezeColumns="False"
                                            CanUserGroupColumns="False"
                                            CanUserResizeColumns="False"
                                            EnableLostFocusSelectedState="True"
                                            GridLinesVisibility="Vertical"
                                            GroupRenderMode="Flat"
                                            IsReadOnly="True"
                                            IsSynchronizedWithCurrentItem="True"
                                            RowIndicatorVisibility="Collapsed"
                                            SelectionMode="Single"
                                            SelectionUnit="FullRow"
                                            ShowColumnSortIndexes="True"
                                            ShowGroupPanel="False"
                                            ShowToolTipOnTrimmedText="True">
                                            <behaviors:Interaction.Behaviors>
                                                <common:EmptyDataTemplateBehavior>
                                                    <common:EmptyDataTemplateBehavior.EmptyDataTemplate>
                                                        <DataTemplate>
                                                            <TextBlock
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Foreground="DarkGray"
                                                                Text="No results found"
                                                                Visibility="{Binding Path=MessageVisibility}" />
                                                        </DataTemplate>
                                                    </common:EmptyDataTemplateBehavior.EmptyDataTemplate>
                                                </common:EmptyDataTemplateBehavior>
                                            </behaviors:Interaction.Behaviors>
                                            <telerik:RadGridView.Columns>
                                                <telerik:GridViewImageColumn
                                                    Width="Auto"
                                                    DataMemberBinding="{Binding Path=ImageUrl}"
                                                    Header="In Use"
                                                    HeaderTextAlignment="Center"
                                                    ImageHeight="20"
                                                    ImageStretch="UniformToFill"
                                                    ImageWidth="24" />
                                                <telerik:GridViewDataColumn
                                                    Width="*"
                                                    DataContext="{Binding}"
                                                    DataMemberBinding="{Binding Path=FileReferenceName}"
                                                    Header="Reference Name"
                                                    HeaderTextAlignment="Center">
                                                    <telerik:GridViewDataColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>
                                                                <TextBlock
                                                                    Grid.Row="0"
                                                                    Grid.Column="0"
                                                                    VerticalAlignment="Center"
                                                                    DataContext="{Binding}"
                                                                    Text="{Binding Path=FileReferenceName}"
                                                                    TextTrimming="CharacterEllipsis" />
                                                                <StackPanel
                                                                    Grid.Row="0"
                                                                    Grid.Column="2"
                                                                    VerticalAlignment="Center"
                                                                    Orientation="Horizontal">
                                                                    <Button
                                                                        x:Name="AddToFavoritesButton"
                                                                        Width="20"
                                                                        Height="20"
                                                                        Margin="0,0,5,0"
                                                                        Padding="0"
                                                                        VerticalAlignment="Center"
                                                                        materialDesign:RippleAssist.ClipToBounds="False"
                                                                        materialDesign:RippleAssist.Feedback="#CC000000"
                                                                        materialDesign:RippleAssist.IsCentered="True"
                                                                        materialDesign:RippleAssist.IsDisabled="False"
                                                                        materialDesign:RippleAssist.RippleOnTop="True"
                                                                        materialDesign:RippleAssist.RippleSizeMultiplier="0.6"
                                                                        Command="{Binding Path=AddToFavoritesCommand}"
                                                                        DataContext="{Binding}"
                                                                        ToolTip="Add to favorites">
                                                                        <materialDesign:PackIcon
                                                                            Width="20"
                                                                            Height="20"
                                                                            Background="Transparent"
                                                                            Cursor="Hand"
                                                                            Foreground="Orange"
                                                                            Kind="StarBorder"
                                                                            Opacity="1" />
                                                                        <Button.Style>
                                                                            <Style BasedOn="{StaticResource ResourceKey=MaterialDesignToolButton}" TargetType="Button">
                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                <Style.Triggers>
                                                                                    <MultiDataTrigger>
                                                                                        <MultiDataTrigger.Conditions>
                                                                                            <Condition Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type telerik:GridViewRow}}, Path=IsSelected}" Value="True" />
                                                                                            <Condition Binding="{Binding Path=IsFavorite}" Value="False" />
                                                                                        </MultiDataTrigger.Conditions>
                                                                                        <Setter Property="Opacity" Value="1" />
                                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                                    </MultiDataTrigger>
                                                                                    <MultiDataTrigger>
                                                                                        <MultiDataTrigger.Conditions>
                                                                                            <Condition Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type telerik:GridViewRow}}, Path=IsMouseOver}" Value="True" />
                                                                                            <Condition Binding="{Binding Path=IsFavorite}" Value="False" />
                                                                                        </MultiDataTrigger.Conditions>
                                                                                        <Setter Property="Opacity" Value="1" />
                                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                                    </MultiDataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Button.Style>
                                                                    </Button>
                                                                    <Button
                                                                        x:Name="RemoveFromFavoritesButton"
                                                                        Width="20"
                                                                        Height="20"
                                                                        Margin="0,0,5,0"
                                                                        Padding="0"
                                                                        VerticalAlignment="Center"
                                                                        materialDesign:RippleAssist.ClipToBounds="False"
                                                                        materialDesign:RippleAssist.Feedback="#CC000000"
                                                                        materialDesign:RippleAssist.IsCentered="True"
                                                                        materialDesign:RippleAssist.IsDisabled="False"
                                                                        materialDesign:RippleAssist.RippleOnTop="True"
                                                                        materialDesign:RippleAssist.RippleSizeMultiplier="0.6"
                                                                        Command="{Binding Path=RemoveFromFavoritesCommand}"
                                                                        DataContext="{Binding}"
                                                                        ToolTip="Remove from favorites">
                                                                        <materialDesign:PackIcon
                                                                            Width="20"
                                                                            Height="20"
                                                                            Background="Transparent"
                                                                            Cursor="Hand"
                                                                            Foreground="Orange"
                                                                            Kind="Star"
                                                                            Opacity="1" />
                                                                        <Button.Style>
                                                                            <Style BasedOn="{StaticResource ResourceKey=MaterialDesignToolButton}" TargetType="Button">
                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                <Style.Triggers>
                                                                                    <MultiDataTrigger>
                                                                                        <MultiDataTrigger.Conditions>
                                                                                            <Condition Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type telerik:GridViewRow}}, Path=IsSelected}" Value="True" />
                                                                                            <Condition Binding="{Binding Path=IsFavorite}" Value="True" />
                                                                                        </MultiDataTrigger.Conditions>
                                                                                        <Setter Property="Opacity" Value="1" />
                                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                                    </MultiDataTrigger>
                                                                                    <MultiDataTrigger>
                                                                                        <MultiDataTrigger.Conditions>
                                                                                            <Condition Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type telerik:GridViewRow}}, Path=IsMouseOver}" Value="True" />
                                                                                            <Condition Binding="{Binding Path=IsFavorite}" Value="True" />
                                                                                        </MultiDataTrigger.Conditions>
                                                                                        <Setter Property="Opacity" Value="1" />
                                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                                    </MultiDataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Button.Style>
                                                                    </Button>
                                                                </StackPanel>
                                                            </Grid>
                                                        </DataTemplate>
                                                    </telerik:GridViewDataColumn.CellTemplate>
                                                </telerik:GridViewDataColumn>
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    DataMemberBinding="{Binding Path=PolicySearchesCount}"
                                                    Header="Policy Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    DataMemberBinding="{Binding Path=PropertySearchesCount}"
                                                    Header="Property Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    DataMemberBinding="{Binding Path=ChainOfTitlesCount}"
                                                    Header="Chain of titles"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    DataMemberBinding="{Binding Path=NameSearchesCount}"
                                                    Header="Name Searches"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    DataMemberBinding="{Binding Path=FileStatus.Description}"
                                                    Header="Status"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    DataMemberBinding="{Binding Path=WorkerId}"
                                                    Header="In Use By"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="Auto"
                                                    DataMemberBinding="{Binding Path=CreatedDate, StringFormat='MM/dd/yyyy hh:mm tt'}"
                                                    Header="Creation Date"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    DataMemberBinding="{Binding Path=BranchLocation.Description}"
                                                    Header="Branch Location"
                                                    TextTrimming="CharacterEllipsis" />
                                            </telerik:RadGridView.Columns>
                                        </telerik:RadGridView>
                                        <telerik:RadDataPager
                                            x:Name="RecentsDataPager"
                                            Grid.Row="1"
                                            Grid.RowSpan="1"
                                            Grid.Column="0"
                                            Margin="0,2,0,0"
                                            HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Stretch"
                                            Background="White"
                                            DisplayMode="FirstLastPreviousNextNumeric, Text"
                                            IsTotalItemCountFixed="True"
                                            PageSize="20"
                                            Source="{Binding Path=Items, ElementName=RecentsResultsRadGridView}" />
                                    </Grid>
                                </DockPanel>
                            </telerik:RadTabItem.Content>
                        </telerik:RadTabItem>
                        <!--<telerik:RadTabItem DropDownContent="Recent Projects" Header="Recent Projects">
                            <telerik:RadTabItem.Content>
                                <Grid
                                    x:Name="ProfilesTab"
                                    Margin="5"
                                    VerticalAlignment="Stretch"
                                    TextBlock.Foreground="{DynamicResource MaterialDesignBody}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <StackPanel
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        Grid.ColumnSpan="3"
                                        Margin="0"
                                        Orientation="Vertical">
                                        <StackPanel Orientation="Horizontal">
                                            <telerik:Label
                                                Padding="5,5,1,5"
                                                HorizontalAlignment="Left"
                                                Content="Profiles ("
                                                FontSize="12"
                                                FontWeight="SemiBold"
                                                Opacity="0.6" />
                                            <telerik:Label
                                                Padding="0"
                                                HorizontalAlignment="Left"
                                                Content="{Binding Path=ProfileCount}"
                                                FontSize="12"
                                                FontWeight="SemiBold"
                                                Opacity="0.6" />
                                            <telerik:Label
                                                Padding="1,5,5,5"
                                                HorizontalAlignment="Left"
                                                Content=" items)"
                                                FontSize="12"
                                                FontWeight="SemiBold"
                                                Opacity="0.6" />
                                        </StackPanel>
                                        <telerik:RadGridView
                                            x:Name="ProfileRadGridView"
                                            Height="150"
                                            Margin="0"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            d:DataContext="{d:DesignInstance viewModels:SearchViewModel}"
                                            AlternationCount="0"
                                            AutoGenerateColumns="False"
                                            CanUserFreezeColumns="False"
                                            CanUserGroupColumns="False"
                                            CanUserResizeColumns="True"
                                            EnableLostFocusSelectedState="True"
                                            GridLinesVisibility="Vertical"
                                            GroupRenderMode="Flat"
                                            IsEnabled="{Binding Path=IsSelectionEnabled}"
                                            IsReadOnly="True"
                                            IsSynchronizedWithCurrentItem="False"
                                            ItemsSource="{Binding Path=ProfileListItems}"
                                            RowIndicatorVisibility="Collapsed"
                                            SelectedItem="{Binding Path=SelectedProfileListItem}"
                                            SelectionMode="Single"
                                            SelectionUnit="FullRow"
                                            ShowColumnSortIndexes="True"
                                            ShowGroupPanel="False"
                                            ShowToolTipOnTrimmedText="True">
                                            <telerik:EventToCommandBehavior.EventBindings>
                                                <telerik:EventBinding
                                                    Command="{Binding Path=DataContext.LoadProfileCommand, ElementName=RootLayout}"
                                                    CommandParameter="{Binding ElementName=ProfileRadGridView, Path=SelectedItem}"
                                                    EventName="MouseDoubleClick" />
                                                <telerik:EventBinding
                                                    Command="{Binding Path=SelectedProfileCommand}"
                                                    EventName="SelectionChanged"
                                                    RaiseOnHandledEvents="True" />
                                            </telerik:EventToCommandBehavior.EventBindings>
                                            <telerik:RadGridView.Columns>
                                                <telerik:GridViewDataColumn
                                                    Width="200"
                                                    DataMemberBinding="{Binding Path=ProfileName}"
                                                    Header="Name"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="*"
                                                    DataMemberBinding="{Binding Path=Description}"
                                                    Header="Description"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="85"
                                                    DataMemberBinding="{Binding Path=Loaded}"
                                                    Header="Loaded"
                                                    HeaderTextAlignment="Center"
                                                    IsReadOnly="True"
                                                    TextAlignment="Center" />
                                            </telerik:RadGridView.Columns>
                                        </telerik:RadGridView>
                                        <telerik:RadDataPager
                                            Margin="0,2,0,0"
                                            HorizontalAlignment="Stretch"
                                            DisplayMode="FirstLastPreviousNextNumeric, Text"
                                            IsTotalItemCountFixed="True"
                                            PageSize="10"
                                            Source="{Binding Path=Items, ElementName=ProfileRadGridView}" />
                                    </StackPanel>
                                    <StackPanel
                                        Grid.Row="0"
                                        Grid.Column="2"
                                        Grid.ColumnSpan="1"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Top"
                                        Orientation="Horizontal">
                                        <Button
                                            Width="26"
                                            Height="26"
                                            Margin="0,0,0,0"
                                            Padding="0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            materialDesign:RippleAssist.ClipToBounds="False"
                                            materialDesign:RippleAssist.Feedback="#CC000000"
                                            materialDesign:RippleAssist.IsCentered="True"
                                            materialDesign:RippleAssist.IsDisabled="False"
                                            materialDesign:RippleAssist.RippleOnTop="True"
                                            materialDesign:RippleAssist.RippleSizeMultiplier="0.8"
                                            Command="{Binding Path=EditProfileCommand}"
                                            Style="{StaticResource MaterialDesignToolButton}"
                                            ToolTip="Edit Profile">
                                            <materialDesign:PackIcon
                                                Width="24"
                                                Height="24"
                                                Background="Transparent"
                                                Cursor="Hand"
                                                Kind="EditOutline"
                                                Opacity="0.8" />
                                        </Button>
                                        <Button
                                            Width="26"
                                            Height="26"
                                            Margin="0,0,0,0"
                                            Padding="0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            materialDesign:RippleAssist.ClipToBounds="False"
                                            materialDesign:RippleAssist.Feedback="#CC000000"
                                            materialDesign:RippleAssist.IsCentered="True"
                                            materialDesign:RippleAssist.IsDisabled="False"
                                            materialDesign:RippleAssist.RippleOnTop="True"
                                            materialDesign:RippleAssist.RippleSizeMultiplier="0.8"
                                            Command="{Binding Path=DeleteProfileCommand}"
                                            Style="{StaticResource MaterialDesignToolButton}"
                                            ToolTip="Delete Profile">
                                            <materialDesign:PackIcon
                                                Width="24"
                                                Height="24"
                                                Background="Transparent"
                                                Cursor="Hand"
                                                Kind="TrashCanOutline"
                                                Opacity="0.8" />
                                        </Button>
                                    </StackPanel>
                                    <StackPanel
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        Grid.ColumnSpan="3"
                                        Margin="0,10,0,0"
                                        HorizontalAlignment="Stretch"
                                        Orientation="Vertical">
                                        <telerik:Label
                                            HorizontalAlignment="Left"
                                            Content="Profile Details"
                                            FontSize="12"
                                            FontWeight="SemiBold"
                                            Opacity="0.6" />
                                        <StackPanel Margin="0" Orientation="Horizontal">
                                            <telerik:RadWatermarkTextBox
                                                Width="250"
                                                Height="30"
                                                Padding="8,0,0,0"
                                                HorizontalAlignment="Left"
                                                VerticalContentAlignment="Center"
                                                IsEnabled="{Binding Path=IsEditingEnabled}"
                                                SelectionOnFocus="SelectAll"
                                                Text="{Binding Path=ProfileName}"
                                                WatermarkContent="name" />
                                            <telerik:RadWatermarkTextBox
                                                Width="655"
                                                Height="30"
                                                Margin="5,0,0,0"
                                                Padding="8,0,0,0"
                                                HorizontalAlignment="Left"
                                                VerticalContentAlignment="Center"
                                                IsEnabled="{Binding Path=IsEditingEnabled}"
                                                SelectionOnFocus="SelectAll"
                                                Text="{Binding Path=ProfileDescription}"
                                                WatermarkContent="description" />
                                        </StackPanel>
                                        <telerik:RadGridView
                                            x:Name="ProfileDetailsGridView"
                                            Height="200"
                                            Margin="0,5,0,0"
                                            HorizontalAlignment="Stretch"
                                            d:DataContext="{d:DesignInstance viewModels:SearchViewModel}"
                                            AlternationCount="0"
                                            AutoGenerateColumns="False"
                                            CanUserFreezeColumns="False"
                                            CanUserGroupColumns="False"
                                            CanUserResizeColumns="False"
                                            EnableLostFocusSelectedState="True"
                                            GridLinesVisibility="Vertical"
                                            GroupRenderMode="Flat"
                                            IsEnabled="{Binding Path=IsEditingEnabled}"
                                            IsReadOnly="True"
                                            IsSynchronizedWithCurrentItem="True"
                                            ItemsSource="{Binding Path=ProfileFileReferences}"
                                            RowIndicatorVisibility="Collapsed"
                                            SelectedItem="{Binding Path=SelectedFileReference}"
                                            SelectionMode="Single"
                                            SelectionUnit="FullRow"
                                            ShowColumnSortIndexes="True"
                                            ShowGroupPanel="False"
                                            ShowToolTipOnTrimmedText="True">
                                            <telerik:RadGridView.Columns>
                                                <telerik:GridViewDataColumn
                                                    Width="250"
                                                    DataMemberBinding="{Binding Path=FileReferenceName}"
                                                    Header="Reference"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="75"
                                                    DataMemberBinding="{Binding Path=FileStatus.Description}"
                                                    Header="Status"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn
                                                    Width="175"
                                                    DataMemberBinding="{Binding Path=WorkerId}"
                                                    Header="In Use By"
                                                    HeaderTextAlignment="Center"
                                                    TextTrimming="CharacterEllipsis" />
                                                <telerik:GridViewDataColumn
                                                    Width="150"
                                                    DataMemberBinding="{Binding Path=CreateDate, StringFormat='MM/dd/yyyy hh:mm tt'}"
                                                    Header="Creation Date"
                                                    HeaderTextAlignment="Center" />
                                                <telerik:GridViewDataColumn DataMemberBinding="{Binding Path=BranchLocation.Description}" Header="Branch Location" />
                                            </telerik:RadGridView.Columns>
                                        </telerik:RadGridView>
                                        <telerik:RadDataPager
                                            Margin="0,2,0,0"
                                            HorizontalAlignment="Stretch"
                                            DisplayMode="FirstLastPreviousNextNumeric, Text"
                                            IsTotalItemCountFixed="True"
                                            PageSize="10"
                                            Source="{Binding Path=Items, ElementName=ProfileDetailsGridView}" />
                                    </StackPanel>
                                    <StackPanel
                                        Grid.Row="2"
                                        Grid.Column="2"
                                        Grid.ColumnSpan="1"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom"
                                        Orientation="Horizontal">
                                        <Button
                                            Width="80"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Bottom"
                                            materialDesign:RippleAssist.ClipToBounds="True"
                                            materialDesign:RippleAssist.Feedback="#CC000000"
                                            materialDesign:RippleAssist.IsCentered="True"
                                            materialDesign:RippleAssist.IsDisabled="False"
                                            materialDesign:RippleAssist.RippleOnTop="True"
                                            materialDesign:RippleAssist.RippleSizeMultiplier="0.8"
                                            Command="{Binding Path=CancelEditProfileCommand}"
                                            Content="Cancel"
                                            Foreground="#CC000000"
                                            Style="{StaticResource MaterialDesignFlatButton}"
                                            ToolTip="Cancel">
                        -->
                        <!--<materialDesign:PackIcon
                                            Width="24"
                                            Height="24"
                                            Background="Transparent"
                                            Cursor="Hand"
                                            Kind="FileCancelOutline"
                                            Opacity="0.8" />-->
                        <!--
                                        </Button>
                                        <Button
                                            Width="80"
                                            Margin="5,0,0,0"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Bottom"
                                            materialDesign:RippleAssist.ClipToBounds="True"
                                            materialDesign:RippleAssist.Feedback="#CC000000"
                                            materialDesign:RippleAssist.IsCentered="True"
                                            materialDesign:RippleAssist.IsDisabled="False"
                                            materialDesign:RippleAssist.RippleOnTop="True"
                                            materialDesign:RippleAssist.RippleSizeMultiplier="0.8"
                                            Command="{Binding Path=SaveEditProfileCommand}"
                                            Content="Save"
                                            Foreground="#CC000000"
                                            Style="{StaticResource MaterialDesignFlatButton}"
                                            ToolTip="Save" />
                                    </StackPanel>
                                </Grid>
                            </telerik:RadTabItem.Content>
                        </telerik:RadTabItem>-->
                    </telerik:RadTabControl>
                </Grid>
            </Expander>
        </Border>
    </Grid>
</views:SearchViewBase>

